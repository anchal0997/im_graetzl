(function() {
  var $container;
  var $paginateLink;

  function updateComponent() {
    <% if @wall_comments.present? %>
      $container = $("[data-behavior='stream-container']");
      $paginateLink = $("[data-behavior='paginate-link']");
      $container.append("<%= j render partial: 'comments/stream_comment', collection: @wall_comments, as: 'comment' %>");
      $paginateLink.replaceWith("<%= j view_more_link @wall_comments %>");
    <% elsif @initiated.present? %>
      $container = $("[data-behavior='initiated-container']");
      $paginateLink = $("[data-behavior='paginate-initiated']");
      $container.append("<%= j(render @initiated) %>");
      $paginateLink.replaceWith("<%= j view_more_of @initiated, 'initiated' %>");
    <% elsif @attended.present? %>
      $container = $("[data-behavior='attended-container']");
      $paginateLink = $("[data-behavior='paginate-attended']");
      $container.append("<%= j(render @attended) %>");
      $paginateLink.replaceWith("<%= j view_more_of @attended, 'attended' %>");
    <% end %>
  }
  updateComponent();
})();
