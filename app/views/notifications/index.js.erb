(function () {
  var $notificationsCount = $("[data-behavior='notifications-count']");
  var $notifications = $("[data-behavior='notifications']");

  function initialState() {
    $notifications.html('<%= j render partial: @notifications, as: :notification %>');
    setCount();
  }

  function setCount() {
    var count = '<%= current_user.new_website_notifications_count %>';
    if (count == 0) {
      $notificationsCount.hide();
    } else {
      $notificationsCount.text(count);
      $notificationsCount.show();
    }
  }

  initialState();


  console.log('render notifications');

}());
