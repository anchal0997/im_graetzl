// empty field
$('#user_graetzl_field').empty();

// render radio buttons
<% if @graetzls.size < 5 %>

  <% @graetzls.each do |graetzl| %>
    var input = "<input id='user_graetzl_attributes_name_"
      + "<%= graetzl.id %>'"
      + "name='user[graetzl_attributes][name]' type='radio'"
      + "value='"
      + "<%= graetzl.name %>"
      + "'>";
    var label = "<label for='user_graetzl_attributes_name'>"
      + "<%= graetzl.name %>"
      + "</label>";

    $('#user_graetzl_field').append(input);
    $('#user_graetzl_field').append(label);
    $('#user_graetzl_field').append("<br>");
  <% end %>

// render select
<% else %>
  var selectField = "<select id='user_graetzl_attributes_name' "
      + "name='user[graetzl_attributes][name]'>";
  $('#user_graetzl_field').append(selectField);
  selectField = $('#user_graetzl_field').children('select').first();
  selectField.append("<%= j options_for_select(@graetzls.all.map { |g| [g.name.html_safe] }) %>");
<% end %>

// render form description
$('#user_graetzl_field_description').html('<%= j render partial: "addresses/registrations/graetzl_field_description" %>');