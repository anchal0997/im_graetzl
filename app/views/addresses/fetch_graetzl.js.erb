$("#flash").html('<%= j render partial: "layouts/flash_messages" %>');

// inject address values into hidden form
$('#user_address_attributes_street_name').val('<%= @address.street_name %>');
$('#user_address_attributes_street_number').val('<%= @address.street_number %>');
$('#user_address_attributes_zip').val('<%= @address.zip %>');
$('#user_address_attributes_city').val('<%= @address.city %>');
$('#user_address_attributes_coordinates').val('<%= @address.coordinates %>');


// empty form element form previous search
$('#user_graetzl').empty();

// render new input fields
<% if @graetzls.size > 1 %>
  <%= render 'graetzl_form_fields' %>
  $('#user_graetzl_description').html('<%= j render partial: "devise/registrations/graetzl_description" %>');

<% else %>

  // inject single graetzl values into hidden form
  console.log("inject hidden data for graetzl");
  var input = "<input id='user_graetzl_attributes_name'"
    + "name='user[graetzl_attributes][name]' type='hidden'"
    + "value='"
    + "<%= @graetzls.first.name.html_safe %>"
    + "'>";
  $('#user_graetzl_fields').append(input);
<% end %>