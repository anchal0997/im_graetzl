(function() {
  var $streamContainer = $("[data-behavior='stream-container']");
  var $paginateLink = $(".view-more-container");

  <% if params[:page].blank? %>
    <% if @room_offers.empty? && @room_demands.empty? %>
      $streamContainer.html("<%= j render 'empty_message' %>");
    <% else %>
      $streamContainer.html("<%= j render @room_offers %>" + "<%= j render @room_demands %>");
      APP.components.masonryFilterGrid.adjustNewCards();
    <% end %>
  <% else %>
    <% if @room_offers.empty? && @room_demands.empty? %>
      $paginateLink.hide();
    <% else %>
      $streamContainer.append("<%= j render @room_offers %>");
      $streamContainer.append("<%= j render @room_demands %>");
      $paginateLink.html("<%= j next_page_link %>");
      APP.components.masonryFilterGrid.adjustNewCards();
    <% end %>
  <% end %>
})();
