(function() {
  var $streamContainer = $("[data-behavior='stream-container']");
  var $paginateLink = $("[data-behavior='paginate-link']");

  <% if params[:page].blank? %>
    <% if @rooms.empty? %>
      $streamContainer.html("<%= j render 'empty_message' %>");
    <% else %>
      $streamContainer.find(".cardBox").remove();
      $streamContainer.append("<%= j render @rooms %>");
    <% end %>
  <% else %>
    $streamContainer.append("<%= j render @rooms %>");
  <% end %>

  <% if @next_page %>
    $paginateLink.attr('href', "<%= j next_page_url %>").show();
  <% else %>
    $paginateLink.hide();
  <% end %>
})();
