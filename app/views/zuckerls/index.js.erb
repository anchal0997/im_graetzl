(function() {
  var $streamContainer = $("[data-behavior='stream-container']");
  var $paginateLink = $("[data-behavior='paginate-link']");

  function updateComponent() {
    <% if params[:page].blank? %>
      <% if @zuckerls.empty? %>
        $streamContainer.html("<%= j render 'empty_message' %>");
      <% else %>
        $streamContainer.html("<%= j render @zuckerls %>");
      <% end %>
    <% else %>
      $streamContainer.append("<%= j render @zuckerls %>");
    <% end %>

    <% if @zuckerls.next_page.present? %>
      $paginateLink.attr('href', "<%= j next_page_url %>").show();
    <% else %>
      $paginateLink.hide();
    <% end %>
  }

  updateComponent();
})();
