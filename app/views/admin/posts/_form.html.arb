active_admin_form_for [:admin, resource] do |f|
  semantic_errors
  f.inputs do
    f.input :graetzl, include_blank: false
    case resource.author
    when Location
      f.input :author, collection: (Location.all), include_blank: false
      f.input :title
    when User
      f.input :author, collection: (User.all)
    end
    f.input :author_type, as: :hidden, value: resource.author_type
    f.input :content
    has_many :images, allow_destroy: true do |i|
      i.input :file, as: :file, hint: attachment_image_tag(i.object, :file, :limit, 600, 300)
    end
  end
  actions
end
